<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title></title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sentiment-analysis.html"/>
<link rel="next" href="supervised-learning.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.16/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>1</b> Conclusion</a></li>
<li class="chapter" data-level="2" data-path="eda.html"><a href="eda.html"><i class="fa fa-check"></i><b>2</b> EDA</a><ul>
<li class="chapter" data-level="2.1" data-path="eda.html"><a href="eda.html#data-acquisition"><i class="fa fa-check"></i><b>2.1</b> Data Acquisition</a><ul>
<li class="chapter" data-level="2.1.1" data-path="eda.html"><a href="eda.html#emmanuel-macron"><i class="fa fa-check"></i><b>2.1.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.1.2" data-path="eda.html"><a href="eda.html#boris-johnson"><i class="fa fa-check"></i><b>2.1.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="eda.html"><a href="eda.html#tokenisation-lemmatization-cleaning"><i class="fa fa-check"></i><b>2.2</b> Tokenisation, Lemmatization &amp; Cleaning</a><ul>
<li class="chapter" data-level="2.2.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-1"><i class="fa fa-check"></i><b>2.2.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.2.2" data-path="eda.html"><a href="eda.html#boris-johnson-1"><i class="fa fa-check"></i><b>2.2.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="eda.html"><a href="eda.html#document-term-matrix-dtm"><i class="fa fa-check"></i><b>2.3</b> Document-Term Matrix DTM</a><ul>
<li class="chapter" data-level="2.3.1" data-path="eda.html"><a href="eda.html#table"><i class="fa fa-check"></i><b>2.3.1</b> Table</a></li>
<li class="chapter" data-level="2.3.2" data-path="eda.html"><a href="eda.html#most-frequent-words"><i class="fa fa-check"></i><b>2.3.2</b> Most frequent words</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="eda.html"><a href="eda.html#tf-idf"><i class="fa fa-check"></i><b>2.4</b> TF-IDF</a><ul>
<li class="chapter" data-level="2.4.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-2"><i class="fa fa-check"></i><b>2.4.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.4.2" data-path="eda.html"><a href="eda.html#boris-johnson-2"><i class="fa fa-check"></i><b>2.4.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="eda.html"><a href="eda.html#cloud-of-words"><i class="fa fa-check"></i><b>2.5</b> Cloud of Words</a><ul>
<li class="chapter" data-level="2.5.1" data-path="eda.html"><a href="eda.html#usind-dfm"><i class="fa fa-check"></i><b>2.5.1</b> Usind DFM</a></li>
<li class="chapter" data-level="2.5.2" data-path="eda.html"><a href="eda.html#using-tf-idf"><i class="fa fa-check"></i><b>2.5.2</b> Using TF-IDF</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="eda.html"><a href="eda.html#lexical-divesity-token-type-ratio-ttr"><i class="fa fa-check"></i><b>2.6</b> Lexical Divesity Token Type Ratio TTR</a><ul>
<li class="chapter" data-level="2.6.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-3"><i class="fa fa-check"></i><b>2.6.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.6.2" data-path="eda.html"><a href="eda.html#boris-johnson-3"><i class="fa fa-check"></i><b>2.6.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="eda.html"><a href="eda.html#zipfs-law"><i class="fa fa-check"></i><b>2.7</b> Zipf's Law</a><ul>
<li class="chapter" data-level="2.7.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-4"><i class="fa fa-check"></i><b>2.7.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.7.2" data-path="eda.html"><a href="eda.html#boris-johnson-4"><i class="fa fa-check"></i><b>2.7.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="eda.html"><a href="eda.html#yules-index"><i class="fa fa-check"></i><b>2.8</b> Yule's index</a><ul>
<li class="chapter" data-level="2.8.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-5"><i class="fa fa-check"></i><b>2.8.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.8.2" data-path="eda.html"><a href="eda.html#boris-johnson-5"><i class="fa fa-check"></i><b>2.8.2</b> Boris Johnson</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="eda.html"><a href="eda.html#mattr"><i class="fa fa-check"></i><b>2.9</b> MATTR</a><ul>
<li class="chapter" data-level="2.9.1" data-path="eda.html"><a href="eda.html#emmanuel-macron-6"><i class="fa fa-check"></i><b>2.9.1</b> Emmanuel Macron</a></li>
<li class="chapter" data-level="2.9.2" data-path="eda.html"><a href="eda.html#boris-johnson-6"><i class="fa fa-check"></i><b>2.9.2</b> Boris Johnson</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>3</b> Introduction</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction.html"><a href="introduction.html#overview-and-motivation"><i class="fa fa-check"></i><b>3.1</b> Overview and Motivation</a></li>
<li class="chapter" data-level="3.2" data-path="introduction.html"><a href="introduction.html#data-loadind"><i class="fa fa-check"></i><b>3.2</b> Data loadind</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="4" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html"><i class="fa fa-check"></i><b>4</b> Sentiment Analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-with-the-nrc-library"><i class="fa fa-check"></i><b>4.1</b> Analysis with the &quot;nrc&quot; library</a></li>
<li class="chapter" data-level="4.2" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-with-the-lsd2015-dictionnary"><i class="fa fa-check"></i><b>4.2</b> Analysis with the LSD2015 dictionnary</a></li>
<li class="chapter" data-level="4.3" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-with-the-afinn-dictionnary"><i class="fa fa-check"></i><b>4.3</b> Analysis with the &quot;afinn&quot; dictionnary</a><ul>
<li class="chapter" data-level="4.3.1" data-path="sentiment-analysis.html"><a href="sentiment-analysis.html#analysis-using-nrc-dictionnary-and-valence-shifters"><i class="fa fa-check"></i><b>4.3.1</b> Analysis using &quot;nrc&quot;&quot; dictionnary and valence shifters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="similarities.html"><a href="similarities.html"><i class="fa fa-check"></i><b>5</b> Similarities</a><ul>
<li class="chapter" data-level="5.1" data-path="similarities.html"><a href="similarities.html#boris"><i class="fa fa-check"></i><b>5.1</b> Boris</a></li>
<li class="chapter" data-level="5.2" data-path="similarities.html"><a href="similarities.html#macron"><i class="fa fa-check"></i><b>5.2</b> Macron</a></li>
<li class="chapter" data-level="5.3" data-path="similarities.html"><a href="similarities.html#comparison"><i class="fa fa-check"></i><b>5.3</b> Comparison</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="supervised-learning.html"><a href="supervised-learning.html"><i class="fa fa-check"></i><b>6</b> Supervised learning</a><ul>
<li class="chapter" data-level="6.1" data-path="supervised-learning.html"><a href="supervised-learning.html#lsa"><i class="fa fa-check"></i><b>6.1</b> LSA</a></li>
<li class="chapter" data-level="6.2" data-path="supervised-learning.html"><a href="supervised-learning.html#random-forest"><i class="fa fa-check"></i><b>6.2</b> Random forest</a></li>
<li class="chapter" data-level="6.3" data-path="supervised-learning.html"><a href="supervised-learning.html#improving-the-features"><i class="fa fa-check"></i><b>6.3</b> Improving the features</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="topic-modelling.html"><a href="topic-modelling.html"><i class="fa fa-check"></i><b>7</b> Topic Modelling</a><ul>
<li class="chapter" data-level="7.1" data-path="topic-modelling.html"><a href="topic-modelling.html#boris-johnson-7"><i class="fa fa-check"></i><b>7.1</b> Boris Johnson</a><ul>
<li class="chapter" data-level="7.1.1" data-path="topic-modelling.html"><a href="topic-modelling.html#lsa-1"><i class="fa fa-check"></i><b>7.1.1</b> LSA</a></li>
<li class="chapter" data-level="7.1.2" data-path="topic-modelling.html"><a href="topic-modelling.html#lda"><i class="fa fa-check"></i><b>7.1.2</b> LDA</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="topic-modelling.html"><a href="topic-modelling.html#macron-1"><i class="fa fa-check"></i><b>7.2</b> Macron</a><ul>
<li class="chapter" data-level="7.2.1" data-path="topic-modelling.html"><a href="topic-modelling.html#lsa-2"><i class="fa fa-check"></i><b>7.2.1</b> LSA</a></li>
<li class="chapter" data-level="7.2.2" data-path="topic-modelling.html"><a href="topic-modelling.html#lda-1"><i class="fa fa-check"></i><b>7.2.2</b> LDA</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="word-embedding.html"><a href="word-embedding.html"><i class="fa fa-check"></i><b>8</b> Word Embedding</a><ul>
<li class="chapter" data-level="8.1" data-path="word-embedding.html"><a href="word-embedding.html#boris-johnson-8"><i class="fa fa-check"></i><b>8.1</b> Boris Johnson</a></li>
<li class="chapter" data-level="8.2" data-path="word-embedding.html"><a href="word-embedding.html#macron-2"><i class="fa fa-check"></i><b>8.2</b> Macron</a></li>
<li class="chapter" data-level="8.3" data-path="word-embedding.html"><a href="word-embedding.html#comparison-1"><i class="fa fa-check"></i><b>8.3</b> Comparison</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="similarities" class="section level1">
<h1><span class="header-section-number">5</span> Similarities</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(readr)
<span class="kw">library</span>(quanteda)
<span class="kw">library</span>(knitr)
<span class="kw">library</span>(kableExtra)
<span class="kw">library</span>(reshape2)
<span class="kw">library</span>(ggplot2)</code></pre></div>
<p>The aim of this part of the project is to compute the similarities and dissimilarities between the different doscuments for both Johnson and Macron. We will use here the previously cleaned and tokenised corpuses and the two TF-IDF matrices computed when performing the exploratory data analysis.</p>
<p>The three metrics used are the following; the Jaccard Similarity (similarity measure), the Cosine Similarity (similarity measure) and the Euclidean Distance (dissimilarity measure, bounded by the largest distance that is present in the corpus, can therefore be rescaled to a similarity measure between 0 and 1, 1 being the largest distance in the corpus). In order to get a better visualisation of the three metrics, we used a heatmap representation (similarity = 0 --&gt; yellow and similarity = 1 --&gt; red).</p>
<p>Actually, when looking at the various heatmaps drawn when running the code, all those similarity measures show the same results, there is not any large similarity between the different documents for Boris Johnson. The only cases on the heatmap that are red are the ones that are on the diagonal, which corresponds to the similarity of a given document and itself, which is equal to 1.</p>
<div id="boris" class="section level2">
<h2><span class="header-section-number">5.1</span> Boris</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Jaccard Similarity
boris.jac &lt;-<span class="st"> </span><span class="kw">textstat_simil</span>(corpus_boris.tfidf, <span class="dt">method =</span> <span class="st">&quot;jaccard&quot;</span>, <span class="dt">margin =</span> <span class="st">&quot;documents&quot;</span>)
## Cosine Similarity
boris.cos &lt;-<span class="st"> </span><span class="kw">textstat_simil</span>(corpus_boris.tfidf, <span class="dt">method =</span> <span class="st">&quot;cosine&quot;</span>, <span class="dt">margin =</span> <span class="st">&quot;documents&quot;</span>)
## Euclidean Distance
boris.euc &lt;-<span class="st"> </span><span class="kw">textstat_dist</span>(corpus_boris.tfidf, <span class="dt">method =</span> <span class="st">&quot;euclidean&quot;</span>, <span class="dt">margin =</span> <span class="st">&quot;documents&quot;</span>)
## Jaccard Matrix
boris.jac.mat &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">as.matrix</span>(boris.jac))
<span class="kw">ggplot</span>(<span class="dt">data=</span>boris.jac.mat, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>value)) +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>(<span class="dt">low=</span><span class="st">&quot;yellow&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>, <span class="dt">mid=</span><span class="st">&quot;orange&quot;</span>, <span class="dt">midpoint =</span><span class="fl">0.5</span>, <span class="dt">limit=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">name=</span><span class="st">&quot;Jaccard&quot;</span>) +<span class="st"> </span><span class="kw">geom_tile</span>()
## Cosine Matrix
boris.cos.mat &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">as.matrix</span>(boris.cos))
<span class="kw">ggplot</span>(<span class="dt">data=</span>boris.cos.mat, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>value)) +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>(<span class="dt">low=</span><span class="st">&quot;yellow&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>, <span class="dt">mid=</span><span class="st">&quot;orange&quot;</span>, <span class="dt">midpoint=</span><span class="fl">0.5</span>, <span class="dt">limit=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">name=</span><span class="st">&quot;Cosine&quot;</span>) +<span class="st"> </span><span class="kw">geom_tile</span>()
## Euclidean Matrix
boris.euc.mat &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">as.matrix</span>(boris.euc))
M &lt;-<span class="st"> </span><span class="kw">max</span>(boris.euc.mat$value)
boris.euc.mat$value.std &lt;-<span class="st"> </span>(M-boris.euc.mat$value)/M
<span class="kw">ggplot</span>(<span class="dt">data=</span>boris.euc.mat, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>boris.euc.mat$value.std)) +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>(<span class="dt">low=</span><span class="st">&quot;yellow&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>, <span class="dt">mid=</span><span class="st">&quot;orange&quot;</span>, <span class="dt">midpoint=</span><span class="fl">0.5</span>, <span class="dt">limit=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),<span class="dt">name =</span><span class="st">&quot;Euclidean&quot;</span>) +<span class="st"> </span><span class="kw">geom_tile</span>()</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-33-1.png" width="70%" style="display: block; margin: auto;" /><img src="_main_files/figure-html/unnamed-chunk-33-2.png" width="70%" style="display: block; margin: auto;" /><img src="_main_files/figure-html/unnamed-chunk-33-3.png" width="70%" style="display: block; margin: auto;" /></p>
<p>We then used two different clustering methods, hierarchical clustering (dendrogram) and partitioning (K-means method). We see that the results are quite similar. When looking at the 10 most common words per cluster, there are some words that appear when using the first method and the second one.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Clustering
## Jaccard Method
boris.hc &lt;-<span class="st"> </span><span class="kw">hclust</span>(<span class="kw">dist</span>(boris.euc))
boris.hc &lt;-<span class="st"> </span><span class="kw">hclust</span>(<span class="kw">dist</span>(<span class="dv">1</span> -<span class="st"> </span>boris.jac))
<span class="kw">plot</span>(boris.hc)
## Cosine Method
boris.hc &lt;-<span class="st"> </span><span class="kw">hclust</span>(<span class="kw">dist</span>(boris.euc))
boris.hc &lt;-<span class="st"> </span><span class="kw">hclust</span>(<span class="kw">dist</span>(<span class="dv">1</span> -<span class="st"> </span>boris.cos))
<span class="kw">plot</span>(boris.hc)
## Dendrogram = Hierarchical Clustering
boris.clust &lt;-<span class="st"> </span><span class="kw">cutree</span>(boris.hc, <span class="dt">k=</span><span class="dv">3</span>)
boris.clust
<span class="co">#&gt; text1 text2 text3 text4 text5 text6 text7 </span>
<span class="co">#&gt;     1     2     2     2     3     3     3</span>
## K-means Method = Partitionning 
boris.km &lt;-<span class="st"> </span><span class="kw">kmeans</span>(corpus_boris.tfidf, <span class="dt">centers=</span><span class="dv">3</span>)
boris.km$cluster
<span class="co">#&gt; text1 text2 text3 text4 text5 text6 text7 </span>
<span class="co">#&gt;     1     1     2     3     1     1     1</span>
### Extracting the 10 most used words - Dendrogram
<span class="kw">data.frame</span>(
  <span class="dt">clust1 =</span> <span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">apply</span>(corpus_boris.tfidf[boris.clust==<span class="dv">1</span>,],<span class="dv">2</span>,sum), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>:<span class="dv">10</span>]),
  <span class="dt">clust2 =</span> <span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">apply</span>(corpus_boris.tfidf[boris.clust==<span class="dv">2</span>,],<span class="dv">2</span>,sum), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>:<span class="dv">10</span>]),
  <span class="dt">clust3 =</span> <span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">apply</span>(corpus_boris.tfidf[boris.clust==<span class="dv">3</span>,],<span class="dv">2</span>,sum), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>:<span class="dv">10</span>])
)</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
clust1
</th>
<th style="text-align:left;">
clust2
</th>
<th style="text-align:left;">
clust3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
outbreak
</td>
<td style="text-align:left;">
school
</td>
<td style="text-align:left;">
already
</td>
</tr>
<tr>
<td style="text-align:left;">
chris
</td>
<td style="text-align:left;">
child
</td>
<td style="text-align:left;">
see
</td>
</tr>
<tr>
<td style="text-align:left;">
four
</td>
<td style="text-align:left;">
mass
</td>
<td style="text-align:left;">
progress
</td>
</tr>
<tr>
<td style="text-align:left;">
manage
</td>
<td style="text-align:left;">
parent
</td>
<td style="text-align:left;">
robert
</td>
</tr>
<tr>
<td style="text-align:left;">
tackle
</td>
<td style="text-align:left;">
period
</td>
<td style="text-align:left;">
jenrick
</td>
</tr>
<tr>
<td style="text-align:left;">
minister
</td>
<td style="text-align:left;">
public
</td>
<td style="text-align:left;">
behind
</td>
</tr>
<tr>
<td style="text-align:left;">
phase
</td>
<td style="text-align:left;">
ensure
</td>
<td style="text-align:left;">
thousand
</td>
</tr>
<tr>
<td style="text-align:left;">
thing
</td>
<td style="text-align:left;">
important
</td>
<td style="text-align:left;">
bite
</td>
</tr>
<tr>
<td style="text-align:left;">
patrick
</td>
<td style="text-align:left;">
dangerous
</td>
<td style="text-align:left;">
virus
</td>
</tr>
<tr>
<td style="text-align:left;">
delay
</td>
<td style="text-align:left;">
london
</td>
<td style="text-align:left;">
huge
</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">### Extracting the 10 most used words - K-Means
<span class="kw">data.frame</span>(
  <span class="dt">clust1 =</span> <span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">apply</span>(corpus_boris.tfidf[boris.km$cluster==<span class="dv">1</span>,],<span class="dv">2</span>,sum), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>:<span class="dv">10</span>]),
  <span class="dt">clust2 =</span> <span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">apply</span>(corpus_boris.tfidf[boris.km$cluster==<span class="dv">2</span>,],<span class="dv">2</span>,sum), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>:<span class="dv">10</span>]),
  <span class="dt">clust3 =</span> <span class="kw">names</span>(<span class="kw">sort</span>(<span class="kw">apply</span>(corpus_boris.tfidf[boris.km$cluster==<span class="dv">3</span>,],<span class="dv">2</span>,sum), <span class="dt">decreasing =</span> <span class="ot">TRUE</span>)[<span class="dv">1</span>:<span class="dv">10</span>])
)</code></pre></div>
<table>
<thead>
<tr>
<th style="text-align:left;">
clust1
</th>
<th style="text-align:left;">
clust2
</th>
<th style="text-align:left;">
clust3
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
outbreak
</td>
<td style="text-align:left;">
mass
</td>
<td style="text-align:left;">
school
</td>
</tr>
<tr>
<td style="text-align:left;">
already
</td>
<td style="text-align:left;">
london
</td>
<td style="text-align:left;">
child
</td>
</tr>
<tr>
<td style="text-align:left;">
see
</td>
<td style="text-align:left;">
contact
</td>
<td style="text-align:left;">
parent
</td>
</tr>
<tr>
<td style="text-align:left;">
chris
</td>
<td style="text-align:left;">
ensure
</td>
<td style="text-align:left;">
pupil
</td>
</tr>
<tr>
<td style="text-align:left;">
dangerous
</td>
<td style="text-align:left;">
gathering
</td>
<td style="text-align:left;">
teacher
</td>
</tr>
<tr>
<td style="text-align:left;">
progress
</td>
<td style="text-align:left;">
fight
</td>
<td style="text-align:left;">
already
</td>
</tr>
<tr>
<td style="text-align:left;">
robert
</td>
<td style="text-align:left;">
without
</td>
<td style="text-align:left;">
fightback
</td>
</tr>
<tr>
<td style="text-align:left;">
jenrick
</td>
<td style="text-align:left;">
stop
</td>
<td style="text-align:left;">
update
</td>
</tr>
<tr>
<td style="text-align:left;">
virus
</td>
<td style="text-align:left;">
non-essential
</td>
<td style="text-align:left;">
judgment
</td>
</tr>
<tr>
<td style="text-align:left;">
public
</td>
<td style="text-align:left;">
rather
</td>
<td style="text-align:left;">
downward
</td>
</tr>
</tbody>
</table>
<p><img src="_main_files/figure-html/unnamed-chunk-34-1.png" width="70%" style="display: block; margin: auto;" /><img src="_main_files/figure-html/unnamed-chunk-34-2.png" width="70%" style="display: block; margin: auto;" /></p>
<p>When computing document similarities for Macron, we also observe that the only elements on the heatmap that are represented by the red colour are situated on the digonal. However, we can notice a slight difference here compared to Johnson. We do observe that there is a small similarity between document 1 and document 2 for Macron. This is to say that he used the same tokens both in the first and the second document.</p>
</div>
<div id="macron" class="section level2">
<h2><span class="header-section-number">5.2</span> Macron</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Jaccard Similarity
macron.jac &lt;-<span class="st"> </span><span class="kw">textstat_simil</span>(corpus_macron.tfidf, <span class="dt">method =</span> <span class="st">&quot;jaccard&quot;</span>, <span class="dt">margin =</span> <span class="st">&quot;documents&quot;</span>)
## Cosine Similarity
macron.cos &lt;-<span class="st"> </span><span class="kw">textstat_simil</span>(corpus_macron.tfidf, <span class="dt">method =</span> <span class="st">&quot;cosine&quot;</span>, <span class="dt">margin =</span> <span class="st">&quot;documents&quot;</span>)
## Euclidean Distance
macron.euc &lt;-<span class="st"> </span><span class="kw">textstat_dist</span>(corpus_macron.tfidf, <span class="dt">method =</span> <span class="st">&quot;euclidean&quot;</span>, <span class="dt">margin =</span> <span class="st">&quot;documents&quot;</span>)
## Jaccard Matrix
macron.jac.mat &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">as.matrix</span>(macron.jac))
<span class="kw">ggplot</span>(<span class="dt">data=</span>macron.jac.mat, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>value)) +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>(<span class="dt">low=</span><span class="st">&quot;yellow&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>, <span class="dt">mid=</span><span class="st">&quot;orange&quot;</span>, <span class="dt">midpoint =</span><span class="fl">0.5</span>, <span class="dt">limit=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">name=</span><span class="st">&quot;Jaccard&quot;</span>) +<span class="st"> </span><span class="kw">geom_tile</span>()
## Cosine Matrix
macron.cos.mat &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">as.matrix</span>(macron.cos))
<span class="kw">ggplot</span>(<span class="dt">data=</span>macron.cos.mat, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>value)) +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>(<span class="dt">low=</span><span class="st">&quot;yellow&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>, <span class="dt">mid=</span><span class="st">&quot;orange&quot;</span>, <span class="dt">midpoint=</span><span class="fl">0.5</span>, <span class="dt">limit=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>), <span class="dt">name=</span><span class="st">&quot;Cosine&quot;</span>) +<span class="st"> </span><span class="kw">geom_tile</span>()
## Euclidean Matrix
macron.euc.mat &lt;-<span class="st"> </span><span class="kw">melt</span>(<span class="kw">as.matrix</span>(macron.euc))
M &lt;-<span class="st"> </span><span class="kw">max</span>(macron.euc.mat$value)
macron.euc.mat$value.std &lt;-<span class="st"> </span>(M-macron.euc.mat$value)/M
<span class="kw">ggplot</span>(<span class="dt">data=</span>macron.euc.mat, <span class="kw">aes</span>(<span class="dt">x=</span>Var1, <span class="dt">y=</span>Var2, <span class="dt">fill=</span>macron.euc.mat$value.std)) +<span class="st"> </span><span class="kw">scale_fill_gradient2</span>(<span class="dt">low=</span><span class="st">&quot;yellow&quot;</span>, <span class="dt">high=</span><span class="st">&quot;red&quot;</span>, <span class="dt">mid=</span><span class="st">&quot;orange&quot;</span>, <span class="dt">midpoint=</span><span class="fl">0.5</span>, <span class="dt">limit=</span><span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">1</span>),<span class="dt">name =</span><span class="st">&quot;Euclidean&quot;</span>) +<span class="st"> </span><span class="kw">geom_tile</span>()</code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-35-1.png" width="70%" style="display: block; margin: auto;" /><img src="_main_files/figure-html/unnamed-chunk-35-2.png" width="70%" style="display: block; margin: auto;" /><img src="_main_files/figure-html/unnamed-chunk-35-3.png" width="70%" style="display: block; margin: auto;" /></p>
</div>
<div id="comparison" class="section level2">
<h2><span class="header-section-number">5.3</span> Comparison</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sentiment-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="supervised-learning.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
